<div class="signup-page">
  <div class="signup-card">
    <div class="signup-header">
      <h1>üéì Student Registration</h1>
      <p>Create your student account and start your learning journey</p>
    </div>

    <div class="signup-body">
      <form [formGroup]="studentForm" (ngSubmit)="signup()">
        <!-- Personal Information Section -->
        <div class="form-row">
          <div class="form-group">
            <label>First Name <span class="required">*</span></label>
            <input
              type="text"
              formControlName="firstName"
              class="form-control"
              placeholder="Enter first name"
            />
            <small
              class="text-danger"
              *ngIf="studentForm.controls['firstName'].invalid &&
                     (studentForm.controls['firstName'].touched ||
                      studentForm.controls['firstName'].dirty)"
            >
              <span *ngIf="studentForm.controls['firstName'].errors?.['required']">First name is required</span>
              <span *ngIf="studentForm.controls['firstName'].errors?.['minlength']">Minimum 3 characters</span>
            </small>
          </div>

          <div class="form-group">
            <label>Last Name <span class="required">*</span></label>
            <input
              type="text"
              formControlName="lastName"
              class="form-control"
              placeholder="Enter last name"
            />
            <small
              class="text-danger"
              *ngIf="studentForm.controls['lastName'].invalid &&
                     (studentForm.controls['lastName'].touched ||
                      studentForm.controls['lastName'].dirty)"
            >
              <span *ngIf="studentForm.controls['lastName'].errors?.['required']">Last name is required</span>
              <span *ngIf="studentForm.controls['lastName'].errors?.['minlength']">Minimum 3 characters</span>
            </small>
          </div>
        </div>

        <!-- Contact Information Section -->
        <div class="form-group">
          <label>Email Address <span class="required">*</span></label>
          <input
            type="email"
            formControlName="email"
            class="form-control"
            placeholder="Enter email address"
          />
          <small
            class="text-danger"
            *ngIf="studentForm.controls['email'].invalid &&
                   (studentForm.controls['email'].touched ||
                    studentForm.controls['email'].dirty)"
          >
            <span *ngIf="studentForm.controls['email'].errors?.['required']">Email is required</span>
            <span *ngIf="studentForm.controls['email'].errors?.['email']">Invalid email format</span>
          </small>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Phone Number <span class="required">*</span></label>
            <input
              type="text"
              formControlName="tel"
              class="form-control"
              placeholder="8-digit phone number"
            />
            <small
              class="text-danger"
              *ngIf="studentForm.controls['tel'].invalid &&
                     (studentForm.controls['tel'].touched ||
                      studentForm.controls['tel'].dirty)"
            >
              <span *ngIf="studentForm.controls['tel'].errors?.['required']">Phone is required</span>
              <span *ngIf="studentForm.controls['tel'].errors?.['pattern']">Must be 8 digits</span>
            </small>
          </div>

          <div class="form-group">
            <label>Home Address <span class="required">*</span></label>
            <input
              type="text"
              formControlName="address"
              class="form-control"
              placeholder="Enter full address"
            />
            <small
              class="text-danger"
              *ngIf="studentForm.controls['address'].invalid &&
                     (studentForm.controls['address'].touched ||
                      studentForm.controls['address'].dirty)"
            >
              <span *ngIf="studentForm.controls['address'].errors?.['required']">Address is required</span>
              <span *ngIf="studentForm.controls['address'].errors?.['minlength']">Minimum 10 characters</span>
            </small>
          </div>
        </div>

        <!-- Password Section -->
        <div class="form-row">
          <div class="form-group">
            <label>Password <span class="required">*</span></label>
            <input
              type="password"
              formControlName="password"
              class="form-control"
              placeholder="Create password"
            />
            <small
              class="text-danger"
              *ngIf="studentForm.controls['password'].invalid &&
                     studentForm.controls['password'].touched"
            >
              <span *ngIf="studentForm.controls['password'].errors?.['required']">Password is required</span>
              <span *ngIf="studentForm.controls['password'].errors?.['minlength']">Minimum 6 characters</span>
            </small>
          </div>

          <div class="form-group">
            <label>Confirm Password <span class="required">*</span></label>
            <input
              type="password"
              formControlName="confirmPassword"
              class="form-control"
              placeholder="Confirm password"
            />
            <small
              class="text-danger"
              *ngIf="studentForm.controls['confirmPassword'].errors?.['required'] &&
                     studentForm.controls['confirmPassword'].touched"
            >
              Confirm password is required
            </small>
            <div
              class="password-match"
              [class.match]="studentForm.get('confirmPassword')?.value &&
                             !studentForm.errors?.['passwordMismatch']"
              [class.mismatch]="studentForm.get('confirmPassword')?.value &&
                                studentForm.errors?.['passwordMismatch']"
              *ngIf="studentForm.get('confirmPassword')?.touched"
            >
              <span *ngIf="!studentForm.errors?.['passwordMismatch']">‚úì Passwords match</span>
              <span *ngIf="studentForm.errors?.['passwordMismatch']">‚úó Passwords do not match</span>
            </div>
          </div>
        </div>

        <!-- Profile Photo Section -->
        <div class="form-group">
          <label>Profile Photo <span class="required">*</span></label>
          <div class="file-upload-wrapper">
            <input
              type="file"
              (change)="onFileSelected($event)"
              class="form-control"
              accept="image/*"
            />
            <div *ngIf="!selectedImage">
              <div class="file-upload-icon">üì∑</div>
              <div class="file-upload-text">Click or Drag to Upload Photo</div>
              <div class="file-upload-hint">Supports: JPG, PNG, GIF (Max 5MB)</div>
            </div>
            <div *ngIf="selectedImage" class="selected-file">
              <span>‚úì {{ selectedImage.name }}</span>
            </div>
          </div>
          <small
            class="text-danger"
            *ngIf="studentForm.controls['image'].invalid &&
                   studentForm.controls['image'].touched"
          >
            Profile photo is required
          </small>
        </div>

        <!-- Error/Success Messages -->
        <div *ngIf="errorMessage" class="error-message">
          ‚ö†Ô∏è {{ errorMessage }}
        </div>

        <div *ngIf="success" class="success-message">
          ‚úì {{ success }}
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="submit-btn"
          [disabled]="studentForm.invalid"
        >
          Create Student Account
        </button>
      </form>
    </div>
  </div>
</div>

