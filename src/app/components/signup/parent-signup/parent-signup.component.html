<div class="signup-page">
  <div class="signup-card">
    <div class="signup-header">
      <h1>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Parent Registration</h1>
      <p>Create your account to stay connected with your child's education</p>
    </div>

    <div class="signup-body">
      <form [formGroup]="parentForm" (ngSubmit)="signup()">
        <!-- Personal Information Section -->
        <div class="form-row">
          <div class="form-group">
            <label>First Name <span class="required">*</span></label>
            <input
              type="text"
              formControlName="firstName"
              class="form-control"
              placeholder="Enter first name"
            />
            <small
              class="text-danger"
              *ngIf="parentForm.controls['firstName'].invalid &&
                     (parentForm.controls['firstName'].touched ||
                      parentForm.controls['firstName'].dirty)"
            >
              <span *ngIf="parentForm.controls['firstName'].errors?.['required']">First name is required</span>
              <span *ngIf="parentForm.controls['firstName'].errors?.['minlength']">Minimum 3 characters</span>
            </small>
          </div>

          <div class="form-group">
            <label>Last Name <span class="required">*</span></label>
            <input
              type="text"
              formControlName="lastName"
              class="form-control"
              placeholder="Enter last name"
            />
            <small
              class="text-danger"
              *ngIf="parentForm.controls['lastName'].invalid &&
                     (parentForm.controls['lastName'].touched ||
                      parentForm.controls['lastName'].dirty)"
            >
              <span *ngIf="parentForm.controls['lastName'].errors?.['required']">Last name is required</span>
              <span *ngIf="parentForm.controls['lastName'].errors?.['minlength']">Minimum 3 characters</span>
            </small>
          </div>
        </div>

        <!-- Contact Information Section -->
        <div class="form-group">
          <label>Email Address <span class="required">*</span></label>
          <input
            type="email"
            formControlName="email"
            class="form-control"
            placeholder="Enter email address"
          />
          <small
            class="text-danger"
            *ngIf="parentForm.controls['email'].invalid &&
                   (parentForm.controls['email'].touched ||
                    parentForm.controls['email'].dirty)"
          >
            <span *ngIf="parentForm.controls['email'].errors?.['required']">Email is required</span>
            <span *ngIf="parentForm.controls['email'].errors?.['email']">Invalid email format</span>
          </small>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Phone Number <span class="required">*</span></label>
            <input
              type="text"
              formControlName="tel"
              class="form-control"
              placeholder="8-digit phone number"
            />
            <small
              class="text-danger"
              *ngIf="parentForm.controls['tel'].invalid &&
                     (parentForm.controls['tel'].touched ||
                      parentForm.controls['tel'].dirty)"
            >
              <span *ngIf="parentForm.controls['tel'].errors?.['required']">Phone is required</span>
              <span *ngIf="parentForm.controls['tel'].errors?.['pattern']">Must be 8 digits</span>
            </small>
          </div>

          <div class="form-group">
            <label>Child's Phone <span class="required">*</span></label>
            <input
              type="text"
              formControlName="childTel"
              class="form-control"
              placeholder="Student's phone"
            />
            <small
              class="text-info d-block"
              style="font-size: 12px; color: #667eea; margin-top: 5px;"
            >
              Required to link with your child's account
            </small>
            <small
              class="text-danger"
              *ngIf="parentForm.controls['childTel'].invalid &&
                     (parentForm.controls['childTel'].touched ||
                      parentForm.controls['childTel'].dirty)"
            >
              <span *ngIf="parentForm.controls['childTel'].errors?.['required']">Child's phone is required</span>
              <span *ngIf="parentForm.controls['childTel'].errors?.['pattern']">Must be 8 digits</span>
            </small>
          </div>
        </div>

        <!-- Address Section -->
        <div class="form-group">
          <label>Home Address <span class="required">*</span></label>
          <input
            type="text"
            formControlName="address"
            class="form-control"
            placeholder="Enter full address"
          />
          <small
            class="text-danger"
            *ngIf="parentForm.controls['address'].invalid &&
                   (parentForm.controls['address'].touched ||
                    parentForm.controls['address'].dirty)"
          >
            <span *ngIf="parentForm.controls['address'].errors?.['required']">Address is required</span>
            <span *ngIf="parentForm.controls['address'].errors?.['minlength']">Minimum 10 characters</span>
          </small>
        </div>

        <!-- Password Section -->
        <div class="form-row">
          <div class="form-group">
            <label>Password <span class="required">*</span></label>
            <input
              type="password"
              formControlName="password"
              class="form-control"
              placeholder="Create password"
            />
            <small
              class="text-danger"
              *ngIf="parentForm.controls['password'].invalid &&
                     parentForm.controls['password'].touched"
            >
              <span *ngIf="parentForm.controls['password'].errors?.['required']">Password is required</span>
              <span *ngIf="parentForm.controls['password'].errors?.['minlength']">Minimum 6 characters</span>
            </small>
          </div>

          <div class="form-group">
            <label>Confirm Password <span class="required">*</span></label>
            <input
              type="password"
              formControlName="confirmPassword"
              class="form-control"
              placeholder="Confirm password"
            />
            <small
              class="text-danger"
              *ngIf="parentForm.controls['confirmPassword'].errors?.['required'] &&
                     parentForm.controls['confirmPassword'].touched"
            >
              Confirm password is required
            </small>
            <div
              class="password-match"
              [class.match]="parentForm.get('confirmPassword')?.value &&
                             !parentForm.errors?.['passwordMismatch']"
              [class.mismatch]="parentForm.get('confirmPassword')?.value &&
                                parentForm.errors?.['passwordMismatch']"
              *ngIf="parentForm.get('confirmPassword')?.touched"
            >
              <span *ngIf="!parentForm.errors?.['passwordMismatch']">âœ“ Passwords match</span>
              <span *ngIf="parentForm.errors?.['passwordMismatch']">âœ— Passwords do not match</span>
            </div>
          </div>
        </div>

        <!-- Error Message -->
        <div *ngIf="errorMessage" class="error-message">
          âš ï¸ {{ errorMessage }}
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="submit-btn"
          [disabled]="parentForm.invalid"
        >
          Create Parent Account
        </button>
      </form>
    </div>
  </div>
</div>

